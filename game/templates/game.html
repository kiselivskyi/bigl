{% load staticfiles %}
<!DOCTYPE html>
<html class="full" lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>TIC TAC TOE</title>

    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="{% static 'js/jquery-2.2.4.min.js' %}"></script>

	<script type="text/javascript">
		$(window).bind('beforeunload', function() {return 'After reloading all statistics will be lost.';});
		localStorage.setItem('field_size', {{size}});
		localStorage.setItem('diagonal_ban', '{{diagonal_ban}}');
    </script>

</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-bottom" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">Exit</a>
            </div>
            <div class="navbar-header">
                <a class="navbar-brand" href="/settings/">Game settings</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10 well game_field">
				<div class="col-md-8">
					<div class="gamefield">
						{% for id in btns%}
							<button id="b{{ id.0 }}" type="button" class="btn btn-default field" style="{{ id.2 }}" value=" "></button>
							{{ id.1 | safe }}
						{% endfor %}
						<button id="restart" type="button" class="btn btn-default btn-block restart">RESTART</button>
					</div>
				</div>
				<div class="col-md-4">
					<div id="player1" class="well">
						<div id="p1wins" class="wins"></div>
						<button id="pl1" type="button" class="btn btn-danger player" disabled>&nbsp&nbsp&nbsp{{ players.name1 }}</button>						
					</div>
					<div id="draw" class="well">
						<div id="draws" class="wins"></div>
						<button id="dr" type="button" class="btn player" style="background:cadetblue;" disabled>&nbsp&nbsp&nbspDraw</button>					
					</div>
					<div id="player2" class="well">
						<div id="p2wins" class="wins"></div>
						<button id="pl2" type="button" class="btn btn-success player" disabled>&nbsp&nbsp&nbsp{{ players.name2 }}</button>					
					</div>
				</div>
            </div>
            <div class="col-md-1"></div>
			
			<button id="result" type="button"data-toggle="modal" data-target="#modal"  data-backdrop="static" data-keyboard="false" hidden></button>
			<div class="modal fade" id="modal" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							  <button type="button" class="close" data-dismiss="modal" onClick="newgame()">&times;</button>
							  <h4><span id="text"></span><span id="winner"></span></h4>
							<br><button type="button" class="btn btn-default again" data-dismiss="modal" onClick="newgame()">Play again</button>
						</div>
					</div>
				  
				</div>
			</div>
        </div>
    </div>

    <script src="{% static 'js/TicTacToe.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

</body>

</html>
